<!doctype html>

<html lang="en">
<head>
    <meta charset="utf-8">

    <title>Sine</title>

   

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script>
    <script src="js/jquery.llapgoch.sine.js"></script>
</head>

<body>
<div class="circle"></div>
<canvas id="can" width="400" height="400" style="border:1px solid red"></canvas>
<script>
    (function($){
        var ctx = $("#can").get(0).getContext('2d');
        
        var width = 30;
        var height = 30;
        var x = 100;
        var y = 100;
        var rotation = 45;
        
        ctx.fillStyle = 'red';
        ctx.translate(x , y);
        ctx.rotate(0.0174533 * rotation);

        ctx.translate(-x, -y);
        ctx.fillRect(x - (width / 2), y - (height / 2), 30, 30);
        ctx.fill();
       
        ctx.setTransform(1, 0, 0, 1, 0, 0);
        ctx.fillStyle = 'black';

        ctx.fillRect(x - (width / 2), y - (height / 2), 30, 30);
        ctx.fill();
        
       
       
        // this.ctx.rotate(2);
 //        this.ctx.translate(-x, -y);
 //        this.ctx.restore();
    }(jQuery));
</script>
</body>
</html>